{% extends "base.html" %}

{% block title %}Uniformes de {{ escuela.nombre }}{% endblock %}
{% block header_title %}Gesti√≥n de Uniformes{% endblock %}

{% block content %}

    <!-- Enlace para volver al selector de escuelas -->
    <a href="{% url 'seleccionar_escuela' %}"
       style="color: #6c757d; text-decoration: none; margin-bottom: 15px; display: inline-block; font-weight: bold;">
       ‚Üê Volver a Seleccionar Escuela
    </a>

    <h2>üëî Uniformes de: <span style="color: #007bff;">{{ escuela.nombre }}</span></h2>
    <p>Solo se muestran los uniformes asociados a esta escuela.</p>

    <hr>

    <!-- El bot√≥n de agregar uniforme se mantiene, ya que agregamos el uniforme a la escuela actual -->
    <a href="{% url 'agregar_uniforme' %}"
       style="width: 250px; text-decoration: none; padding: 10px; display: inline-block; background-color: #28a745; color: white; text-align: center; border-radius: 5px; margin-bottom: 20px;">
       ‚ûï Agregar Nuevo Uniforme
    </a>

    <hr>

    {% if uniformes %}
        <!-- Tabla para mostrar los uniformes filtrados -->
        <table border="1" style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background-color: #f2f2f2;">
                    <th style="padding: 10px; width: 5%;">ID</th>
                    <th style="padding: 10px; width: 35%; text-align: left;">Nombre del Uniforme</th>
                    <th style="padding: 10px; width: 45%;">Acciones (Variantes y Edici√≥n)</th>
                </tr>
            </thead>
            <tbody>
                {% for uniforme in uniformes %}
                <tr>
                    <td style="padding: 10px; text-align: center;">{{ uniforme.idUniforme }}</td>
                    <td style="padding: 10px;">{{ uniforme.nombre }}</td>
                    <td style="padding: 10px; text-align: center;">
                        <!-- Enlace para gestionar las variantes (tallas/stock) -->
                        <a href="{% url 'gestionar_variantes' uniforme_id=uniforme.idUniforme %}"
                           style="color: #007bff; margin-right: 15px; text-decoration: none; font-weight: bold;">
                           üìã Ver y Editar Variantes
                        </a>
                        |
                        <!-- Enlace para editar el uniforme principal -->
                        <a href="{% url 'editar_uniforme' uniforme_id=uniforme.idUniforme %}"
                           style="color: #ffc107; margin-left: 15px; margin-right: 15px; text-decoration: none;">
                           ‚úèÔ∏è Editar Uniforme
                        </a>
                        |
                        <!-- Enlace para borrar el uniforme principal -->
                        <a href="{% url 'borrar_uniforme' uniforme_id=uniforme.idUniforme %}"
                           style="color: #dc3545; margin-left: 15px; text-decoration: none;">
                           üóëÔ∏è Borrar
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No hay uniformes registrados para la escuela <strong>{{ escuela.nombre }}</strong>.</p>
    {% endif %}

{% endblock %}