{% extends "base.html" %}
{% block content %}

<h2>✏️ Editar Variante de: {{ variante.idUniforme.nombre }}</h2>
<p>Modificando Talla, Precio y Stock para la variante ID: {{ variante.idVariante }}</p>
<hr>

{% if error %}
    <div style="border: 1px solid #dc3545; padding: 15px; background-color: #f8d7da; color: #721c24; margin-bottom: 20px;">
        <p>Error: {{ error }}</p>
    </div>
{% endif %}

<form method="POST">
    {% csrf_token %}
    
    <label for="talla">Talla (ej: S, M, L, 30, 32):</label><br>
    <!-- Muestra el valor actual de la talla -->
    <input type="text" name="talla" required value="{{ variante.talla }}" style="margin-bottom: 10px; padding: 8px; width: 350px; border: 1px solid #ccc; border-radius: 4px;"><br>

    <label for="precio">Precio de Venta:</label><br>
    <!-- Muestra el valor actual del precio -->
    <input type="number" name="precio" step="0.01" required value="{{ variante.precio|floatformat:2 }}" style="margin-bottom: 10px; padding: 8px; width: 350px; border: 1px solid #ccc; border-radius: 4px;"><br>

    <label for="stock">Stock Actual:</label><br>
    <!-- Muestra el valor actual del stock -->
    <input type="number" name="stock" required value="{{ variante.stock }}" style="margin-bottom: 20px; padding: 8px; width: 350px; border: 1px solid #ccc; border-radius: 4px;"><br>

    <button type="submit" style="padding: 10px 20px; background-color: #ffc107; color: black; border: none; border-radius: 5px; cursor: pointer;">Guardar Cambios</button>
    
    <!-- Redirige a la gestión de variantes de su uniforme principal -->
    <a href="{% url 'gestionar_variantes' uniforme_id=variante.idUniforme.idUniforme %}" style="margin-left: 15px; color: #6c757d; text-decoration: none;">Cancelar</a>
</form>

{% endblock %}